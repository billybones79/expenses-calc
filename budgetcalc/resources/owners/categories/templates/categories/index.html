{% extends "layout.html" %}
{% block body %}
{% raw %}
<div ng-controller="CategoriesController" >
  <div class=flash ng-repeat="message in messages">{{ message }}</div>  
    <form class=add-entry ng-submit="create()" >
      <dl>
        <dt>Nom:
        <dd><input type=text size=30 ng-model="name">
        <dt>Couleur:
        <dd><input class='jscolor' type=text size=30 ng-model="color">
        <dd><input type=submit value="nouvelle categorie">
      </dl>
    </form>
  
  <div class=entries>
    <div ng-repeat="category in categories| orderBy : 'name'" style = 'background-color:#{{category.color}}'>
        <div class="list-cell left" >
            <h2>{{ category.name }}</h2>
        </div>
        <div class="list-cell right">
            <a href="#" ng-click="destroy(category)">x</a>
        </div>
        
        <div class="clear"></div>
    </div>
  </div>
  <div class="clear"></div>

  </div>
    {% endraw %}
{% endblock %}