{% extends "layout.html" %}
{% block sidebar %}
<ul>
    <li><a class = "sidebar_option"  href="{{url_for('expenses.expenses', owner=owner)}}">voir les depenses</a></li>
    <li><a class = "sidebar_option" href="{{url_for('graphs.graphs', owner=owner)}}">charte des depenses</a></li>
</ul>
{% endblock %}
{% block body %}
{% raw %}
<div ng-controller="CategoriesController" >
  <div class=flash ng-repeat="message in messages">{{ message }}</div>  
    <form class=add-entry ng-submit="create()" >
      <dl>
        <dt>Nom:
        <dd><input type=text size=30 ng-model="name">
        <dt>Couleur:
        <dd><input class='jscolor' type=text size=30 ng-model="color">
        <dd><input type=submit value="nouvelle categorie">
      </dl>
    </form>
  
  <ul class=entries>
    <li ng-repeat="category in categories| orderBy : 'name'">
        <div class="list-cell left" style = 'background-color:#{{category.color}}'>
            <h2>{{ category.name }}</h2>
        </div>
        <div class="list-cell right">
            <a href="#" ng-click="destroy(category)">x</a>
        </div>
    </li>
  </ul>
  <div class="clear"></div>

  </div>
    {% endraw %}
{% endblock %}