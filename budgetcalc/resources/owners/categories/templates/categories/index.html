{% extends "layout.html" %}
{% block title %}
    Categories
{% endblock%}
{% block body %}
{% raw %}
<div ng-controller="CategoriesController" >
  <div class=flash ng-repeat="message in messages">{{ message }}</div>  
    <form class=add-entry ng-submit="create()" >
      <dl>
        <dt>Nom:
        <dd><input type=text size=30 ng-model="name">
        <dt>Couleur:
        <dd><color-picker ng-model="color"></color-picker>
            <input type="text"
                ng-model="color"
                ng-init="color = '#f05a28'">
        <dt>type :
        <dd><select name="type" ng-model="type">
             <option value="expenses">Depense</option>
            <option value="earnings">Entres</option>
         </select>
         <dd><input type=submit value="nouvelle categorie"/>
      </dl>
    </form>
  
  <div class=entries>
    <div ng-repeat="category in categories| orderBy : 'name'" style = 'background-color:#{{category.color}}'>
         <div class="list-cell left" >
            <h2>{{ category.type }}</h2>
        </div>
        <div class="list-cell left" >
            <h2>{{ category.name }}</h2>
        </div>
        <div class="list-cell right">
            <a href="#" ng-click="destroy(category)">x</a>
        </div>
        
        <div class="clear"></div>
    </div>
  </div>
  <div class="clear"></div>

  </div>
    {% endraw %}
{% endblock %}